<div class="center">
    <p>HTML:</p>
    <pre class="html">
&lt;template-layout key="templateOne" overrides="overrides"&gt;
    &lt;div style="margin: 10px;"&gt;
        &lt;b&gt;$[properties.name]&lt;/b&gt;&lt;br /&gt;
        &lt;i id="count"&gt;&lt;/i&gt;
        &lt;button id="counter-button"&gt; +1 &lt;/button&gt;
    &lt;/div&gt;
&lt;/template-layout&gt;
&lt;ya-map zoom="10" center="[37.62708,55.650625]"&gt;
    &lt;geo-objects&gt;
        &lt;geo-object source="point" options="{balloonContentLayout:'templateOne'}"&gt;&lt;/geo-object&gt;
    &lt;/geo-objects&gt;
&lt;/ya-map&gt;
    </pre>
    <p>javascript:</p>
    <pre class="js">
var counter=0;
$scope.overrides={
    build: function () {
        // Сначала вызываем метод build родительского класса.
        console.log('build');
        var BalloonContentLayout = templateLayoutFactory.get('templateOne');
        BalloonContentLayout.superclass.build.call(this);
        // А затем выполняем дополнительные действия.
        angular.element(document.getElementById('counter-button')).bind('click', this.onCounterClick);
        angular.element(document.getElementById('count')).html(counter);
    },

    // Аналогично переопределяем функцию clear, чтобы снять
    // прослушивание клика при удалении макета с карты.
    clear: function () {
        // Выполняем действия в обратном порядке - сначала снимаем слушателя,
        // а потом вызываем метод clear родительского класса.
        angular.element(document.getElementById('counter-button')).unbind('click', this.onCounterClick);
        var BalloonContentLayout = templateLayoutFactory.get('templateOne');
        BalloonContentLayout.superclass.clear.call(this);
    },

    onCounterClick: function () {
        angular.element(document.getElementById('count')).html(++counter);
        if (counter == 5) {
            alert('Вы славно потрудились.');
            counter = 0;
            angular.element(document.getElementById('count')).html(counter);
        }
    }
};
$scope.point = {
    geometry:{
        type:'Point',
        coordinates:[37.62708,55.650625]
    },
    properties: {
        name: 'Считаем'
    }
};
</pre>
</div>
<div class="right">
    <template-layout key="templateOne" overrides="overrides">
        <div style="margin: 10px;">
            <b>$[properties.name]</b><br />
            <i id="count"></i>
            <button id="counter-button"> +1 </button>
        </div>
    </template-layout>
    <ya-map zoom="10" center="[37.62708,55.650625]">
        <geo-objects>
            <geo-object source="point" options="{balloonContentLayout:'templateOne'}"></geo-object>
        </geo-objects>
    </ya-map>
</div>